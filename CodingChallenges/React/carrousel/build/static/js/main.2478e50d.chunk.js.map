{"version":3,"sources":["Bullet.js","Timer.js","Carrousel.js","App.js","index.js"],"names":["classNames","obj","Object","keys","filter","k","join","Bullet","props","classes","dot","selected","id","pause","react_default","a","createElement","className","onClick","Timer","_ref","_this","this","duration","callback","classCallCheck","start","setInterval","isRunning","stop","clearInterval","reset","Carrousel","state","handleKey","event","console","log","key","runToggleCarrousel","nextPhoto","prevPhoto","setState","prevState","nextId","timer","prevId","idPhoto","_","photosSize","_this2","photos","length","document","addEventListener","removeEventListener","_this3","src","alt","map","i","src_Bullet","Component","PHOTOS","App","href","src_Carrousel_0","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.2478e50d.chunk.js","sourcesContent":["import React from 'react';\n\n// utility to join class name with an object as parameter\nconst classNames = (obj) => {\n  const res = Object.keys(obj)\n    .filter(k => !!obj[k])\n    .join(\" \")\n\n  return res\n}\n\nfunction Bullet(props) {\n\n  const classes = classNames({\n    dot: true,\n    selected: props.id === props.selected,\n    pause: props.id === props.selected && props.pause\n  })\n\n  return (\n    <span className={classes} onClick={props.onClick} />\n  )\n}\n\nexport default Bullet;\n","export default class Timer {\n    constructor({ duration, callback }) {\n      this.duration = duration\n      this.callback = callback\n    }\n  \n    start = () => {\n      if (!this.id) {\n        this.id = setInterval(this.callback, this.duration)\n      }\n    }\n  \n    isRunning = () => !!this.id\n  \n    stop = () => {\n      if (this.id) {\n        clearInterval(this.id)\n        this.id = null\n      }\n    }\n  \n    reset = () => {\n      this.stop()\n      this.start()\n    }\n  \n    pause = () => {\n      this.stop()\n    }\n  }\n","import React, { Component } from 'react';\nimport \"./Carrousel.css\"\nimport Bullet from \"./Bullet\"\nimport Timer from \"./Timer\"\n\nclass Carrousel extends Component {\n\n  state = {\n    id: 0,\n    pause: false,\n  }\n\n  componentDidMount() {\n    if (this.props.photos) {\n      this.photosSize = this.props.photos.length\n    }\n\n    this.timer = new Timer({\n      duration: 2000,\n      callback: () => {\n        this.setState(prevState => ({\n          id: this.nextId(prevState)\n        }))\n      }\n    })\n\n    this.runToggleCarrousel(this.timer)\n\n    // BE CAREFUL : keypress is obsolete and may lead to some strange behaviour on browser\n    //document.addEventListener(\"keypress\", this.handleKey, false)\n    document.addEventListener(\"keydown\", this.handleKey, false)\n  }\n\n  componentWillUnmount() {\n    console.log(\"Suppression du setInterval\");\n\n    this.timer.stop()\n\n    document.removeEventListener(\"keydown\", this.handleKey)\n  }\n\n  handleKey = (event) => {\n    console.log(\"key\", event.key)\n\n    if (event.key === \" \" || event.key === \"Spacebar\") {\n      this.runToggleCarrousel()\n    } else if (event.key === \"ArrowRight\") {\n      this.nextPhoto()\n    } else if (event.key === \"ArrowLeft\") {\n      this.prevPhoto()\n    }\n  }\n\n  nextPhoto = () => {\n    this.setState(prevState => ({\n      id: this.nextId(prevState)\n    }), () => !this.state.pause && this.timer.reset())\n  }\n\n  prevPhoto = () => {\n    this.setState(prevState => ({\n      id: this.prevId(prevState)\n    }), () => !this.state.pause && this.timer.reset())\n  }\n\n  idPhoto = (id) => {\n    this.setState(_ => ({\n      id\n    }), () => !this.state.pause && this.timer.reset())\n  }\n\n  nextId = (prevState) => {\n    const nextId = prevState.id + 1\n    return nextId === this.photosSize ? 0 : nextId\n  }\n\n  prevId = (prevState) => {\n    const prevId = prevState.id - 1\n    return prevId < 0 ? this.photosSize - 1 : prevId\n  }\n\n  runToggleCarrousel = () => {\n\n    if (this.timer.isRunning()) {\n      this.timer.pause()\n      this.setState({\n        pause: true\n      })\n      console.log(\"ArrÃªt du carrousel\")\n\n    } else {\n      this.setState({\n        pause: false\n      })\n      console.log(\"Lancement du carrousel\")\n      this.timer.start()\n    }\n\n  }\n\n  render() {\n\n    const { photos } = this.props\n\n    if (!photos || !photos.length) {\n      return (\n        <div>\n          No photos\n        </div>\n      )\n    }\n\n    return (\n      <div>\n        <div className=\"row\">\n          <span className=\"arrow-left\" onClick={this.prevPhoto} />\n          <img className=\"nice\" src={photos[this.state.id]} alt=\"Carrousel\" />\n          <span className=\"arrow-right\" onClick={this.nextPhoto} />\n        </div>\n        <div>\n          {photos.map((_, i) =>\n\n            <Bullet key={i} id={i} selected={this.state.id} pause={this.state.pause} onClick={() => this.idPhoto(i)} />\n\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Carrousel;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Carrousel from \"./Carrousel\"\n\nconst PHOTOS = [\n  \"https://picsum.photos/400/600/?image=609\",\n  \"https://picsum.photos/400/600/?image=817\",\n  \"https://picsum.photos/400/600/?image=388\",\n]\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <h2>Carrousel</h2>\n        <div>\n          See <a href=\"https://github.com/pom421/pom421.github.io/tree/master/CodingChallenges/React/carrousel\">code on GitHub</a>\n        </div>\n        <Carrousel photos={PHOTOS} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}